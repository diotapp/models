<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>3D Model with AR and Animation</title>
  <!-- Подключение библиотеки model-viewer -->
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      background-color: #f0f0f0;
      position: relative; /* Для абсолютного позиционирования кнопки */
    }
    model-viewer {
      width: 100%;
      height: 100%;
      background-color: white;
      border: 1px solid #ccc;
    }

    /* Скрыть стандартную кнопку AR */
    model-viewer::part(ar-button) {
      display: none;
    }

    /* Стили для пользовательской кнопки AR */
    #custom-ar-button {
      position: absolute;
      top: 20px; /* Отступ сверху */
      left: 20px; /* Отступ слева */
      background-color: #007bff; /* Цвет фона кнопки */
      color: white; /* Цвет текста */
      border: none; /* Убрать границы */
      border-radius: 5px; /* Скругление углов */
      padding: 15px 25px; /* Отступы внутри кнопки */
      font-size: 18px; /* Размер шрифта */
      cursor: pointer; /* Курсор при наведении */
      z-index: 10; /* Чтобы кнопка была поверх модели */
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Тень для объёма */
      transition: background-color 0.3s; /* Плавный переход цвета */
    }

    #custom-ar-button:hover {
      background-color: #0056b3; /* Цвет кнопки при наведении */
    }
  </style>
</head>
<body>
  <!-- Пользовательская кнопка AR -->
  <button id="custom-ar-button">Войти в AR</button>

  <!-- Подключение .glb и .usdz из хранилища -->
  <model-viewer
    id="model-viewer"
    src="models/untitled.glb"
    ios-src="models/untitled.usdz"
    alt="3D model with animation"
    ar
    ar-modes="scene-viewer quick-look"
    camera-controls
    autoplay
    animation-loop
    auto-rotate>
  </model-viewer>

  <script>
    // Получаем элементы кнопки и model-viewer
    const arButton = document.getElementById('custom-ar-button');
    const modelViewer = document.getElementById('model-viewer');

    // Добавляем обработчик события клика на кнопку
    arButton.addEventListener('click', () => {
      modelViewer.enterAR();
    });
  </script>
</body>
</html>
